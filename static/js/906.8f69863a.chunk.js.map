{"version":3,"file":"static/js/906.8f69863a.chunk.js","mappings":"qMACA,QAAyB,2B,aCKzB,MAgDA,EAhDmBA,KACjB,MAAOC,EAAcC,IAAmBC,EAAAA,EAAAA,OACjCC,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,OACxCC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAS,IACpCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,OAEnCK,EAAAA,EAAAA,YAAU,KACmBC,MAkBtBX,EAAaY,IAAI,YAlBKD,EAoBTX,EAAaY,IAAI,YAlB/BL,GAAa,GACbE,EAAS,MACTI,EAAAA,EAAAA,iBAAqBF,GAClBG,MAAKX,IACJC,EAAeD,EAAY,IAE5BY,OAAMP,IACLC,EAASD,GACTQ,QAAQR,MAAMA,EAAM,IAErBS,SAAQ,KACPV,GAAa,EAAM,KAOiB,GAC3C,CAACP,IAMJ,OACEkB,EAAAA,EAAAA,KAAA,WAASC,UAAWC,EAAcC,UAChCC,EAAAA,EAAAA,MAACC,EAAAA,GAAS,CAAAF,SAAA,EACNH,EAAAA,EAAAA,KAACM,EAAAA,GAAU,CAACC,SAPad,IAC/BV,EAAgB,CAACU,MAAOA,GAAO,IAOxBH,IAASU,EAAAA,EAAAA,KAACQ,EAAAA,GAAU,IACpBpB,GACGY,EAAAA,EAAAA,KAACS,EAAAA,GAAM,KACPT,EAAAA,EAAAA,KAACU,EAAAA,GAAU,CAACC,OAAQ1B,QAGpB,C","sources":["webpack://react-homework-template/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movies\":\"MoviesPage_movies__IkPVC\"};","import { useEffect, useState } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { MoviesList, SearchForm, Container, Loader, FallbackUI } from \"components\";\nimport api from \"services/api\";\nimport css from \"./MoviesPage.module.css\";\n\nconst MoviesPage = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [foundMovies, setFoundMovies] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const handleMovieSearch = (query) => {\n      if(query) {\n        setIsLoading(true);\n        setError(null);\n        api.getMoviesByTitle(query)\n          .then(foundMovies => {\n            setFoundMovies(foundMovies);\n          })\n          .catch(error => {\n            setError(error);\n            console.error(error);\n          })\n          .finally(() => {\n            setIsLoading(false);\n          });\n      }\n    }\n    \n    if (!searchParams.get(\"query\")) return;\n\n    handleMovieSearch(searchParams.get(\"query\"));\n  }, [searchParams]);\n\n  const handleSearchParamsUpdate = query => {\n    setSearchParams({query: query});\n  };\n\n  return (\n    <section className={css[\"movies\"]}>\n      <Container>\n          <SearchForm onSearch={handleSearchParamsUpdate} />\n          {error && <FallbackUI />}\n          {isLoading \n            ? <Loader /> \n            : <MoviesList movies={foundMovies} \n          />}\n      </Container>\n    </section>\n  )\n};\n\nexport default MoviesPage;"],"names":["MoviesPage","searchParams","setSearchParams","useSearchParams","foundMovies","setFoundMovies","useState","isLoading","setIsLoading","error","setError","useEffect","query","get","api","then","catch","console","finally","_jsx","className","css","children","_jsxs","Container","SearchForm","onSearch","FallbackUI","Loader","MoviesList","movies"],"sourceRoot":""}