{"version":3,"file":"static/js/42.196d332e.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetailsPage/MovieDetailsPage.module.css?9108","pages/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"back-navigation\":\"MovieDetailsPage_back-navigation__hWhsh\",\"back-navigation-link\":\"MovieDetailsPage_back-navigation-link__g7SVH\",\"movie\":\"MovieDetailsPage_movie__ge9gn\",\"details\":\"MovieDetailsPage_details__pkcOH\",\"preview-wrapper\":\"MovieDetailsPage_preview-wrapper__a09Rc\",\"preview-image\":\"MovieDetailsPage_preview-image__YBRHX\",\"description\":\"MovieDetailsPage_description__JSzNh\",\"movie-title\":\"MovieDetailsPage_movie-title__wswFf\",\"movie-subtitle\":\"MovieDetailsPage_movie-subtitle__EvNz9\",\"genres-list\":\"MovieDetailsPage_genres-list__Wf0FC\"};","import { Suspense, useEffect, useState } from \"react\";\nimport { useParams, Outlet, Link, useLocation } from \"react-router-dom\";\nimport { AdditionalInfo, Container, Loader, FallbackUI } from \"components\";\nimport api from \"services/api\";\nimport css from \"./MovieDetailsPage.module.css\";\n\nconst MovieDetailsPage = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const [movieDetails, setMovieDetails] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  \n  useEffect(() => {\n    const getMovieDetails = () => {\n      setIsLoading(true);\n      api.getMovieDetailsById(movieId)\n        .then(movie => {\n          if (movie.adult) {\n            throw new Error(\"Unsupported type of content.\")\n          }\n          setMovieDetails(movie);\n        })\n        .catch(error => {\n          setError(error);\n          console.error(error);\n        })\n        .finally(() => {\n          setIsLoading(false)\n        });\n    };\n    \n    getMovieDetails();\n  }, [movieId])\n\n  const {title, overview, poster_path, release_date, vote_average, genres} = movieDetails;\n  const releaseYear = release_date && new Date(release_date).getFullYear();\n\n  return (\n    <>\n      <section className={css[\"back-navigation\"]}>\n        <Container>\n          <Link \n            className={css[\"back-navigation-link\"]} \n            to={location.state?.from ?? \"/\"}\n          >\n            Go back\n          </Link>\n        </Container>\n      </section>\n      {isLoading ? <Loader /> : \n        <section className={css[\"movie\"]}>\n          <Container>\n            {error ? <FallbackUI /> :\n              <div>\n                <div className={css.details}>\n                  <div className={css[\"preview-wrapper\"]}>\n                    <img \n                      className={css[\"preview-image\"]} \n                      src={`${api.IMAGE_BASE_URL}${api.IMAGE_POSTER_SIZE}${poster_path}` || \"images/no-preview.jpg\"} \n                      alt=\"\" \n                      aria-label={`${title} preview`} \n                    />\n                  </div>\n                  <div className={css.description}>\n                    <div>\n                      <h1 className={css[\"movie-title\"]}>{title} {releaseYear && `(${releaseYear})`}</h1>\n                      <p>User Score: {Math.trunc(vote_average * 10)}%</p>\n                    </div>\n                    <div>\n                      <h2 className={css[\"movie-subtitle\"]}>Overview</h2>\n                      <p>{overview}</p>\n                    </div>\n                    <div>\n                      <h2 className={css[\"movie-subtitle\"]}>Genres</h2>\n                      <ul className={css[\"genres-list\"]}>\n                        {genres && genres.map(({name})=> (\n                          <li key={name}>\n                            <span>{name}</span>\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n                <AdditionalInfo />\n                <Suspense fallback={<Loader />}>\n                  <Outlet />\n                </Suspense>\n              </div>\n            }\n          </Container>\n        </section>\n      }\n    </>\n  )\n};\n\nexport default MovieDetailsPage;"],"names":["MovieDetailsPage","_location$state$from","_location$state","movieId","useParams","location","useLocation","movieDetails","setMovieDetails","useState","isLoading","setIsLoading","error","setError","useEffect","api","then","movie","adult","Error","catch","console","finally","title","overview","poster_path","release_date","vote_average","genres","releaseYear","Date","getFullYear","_jsxs","_Fragment","children","_jsx","className","css","Container","Link","to","state","from","Loader","FallbackUI","src","concat","alt","Math","trunc","map","_ref","name","AdditionalInfo","Suspense","fallback","Outlet"],"sourceRoot":""}